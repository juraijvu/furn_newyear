import { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { CheckCircle, XCircle, Loader2 } from 'lucide-react';\n\nexport function APITestPanel() {\n  const [testing, setTesting] = useState(false);\n  const [testResult, setTestResult] = useState<any>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const testReplicateAPI = async () => {\n    setTesting(true);\n    setError(null);\n    setTestResult(null);\n\n    try {\n      const response = await fetch('/api/test-replicate');\n      const data = await response.json();\n      \n      if (response.ok) {\n        setTestResult(data);\n      } else {\n        setError(data.message || 'Test failed');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Network error');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          API Status\n          {testResult && (\n            <Badge variant=\"outline\" className=\"text-green-600\">\n              <CheckCircle className=\"w-3 h-3 mr-1\" />\n              Connected\n            </Badge>\n          )}\n          {error && (\n            <Badge variant=\"destructive\">\n              <XCircle className=\"w-3 h-3 mr-1\" />\n              Error\n            </Badge>\n          )}\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <Button \n          onClick={testReplicateAPI} \n          disabled={testing}\n          className=\"w-full\"\n        >\n          {testing ? (\n            <>\n              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n              Testing...\n            </>\n          ) : (\n            'Test Replicate API'\n          )}\n        </Button>\n        \n        {testResult && (\n          <div className=\"text-sm space-y-2\">\n            <div className=\"text-green-600 font-medium\">\n              ✓ Replicate API is working\n            </div>\n            <div className=\"text-xs text-muted-foreground\">\n              Token: {testResult.tokenConfigured ? 'Configured' : 'Missing'}\n            </div>\n          </div>\n        )}\n        \n        {error && (\n          <div className=\"text-sm text-red-600\">\n            <div className=\"font-medium\">✗ API Test Failed</div>\n            <div className=\"text-xs mt-1\">{error}</div>\n          </div>\n        )}\n        \n        <div className=\"text-xs text-muted-foreground\">\n          This tests the connection to Replicate AI models used for professional furniture customization.\n        </div>\n      </CardContent>\n    </Card>\n  );\n}