I need to upgrade my React/Node furniture customizer to achieve professional perfection. The current version causes 'color spreading.' I want to implement a 'Masked Inpainting' workflow using Replicate APIs.1. The Logic: > - When a user uploads a photo, use the meta/sam-2 model or schananas/grounded_sam on Replicate to allow the user to click a part of the furniture (like a sofa cushion or table top) and generate a precise black-and-white mask.Use this mask and the original image as input for the black-forest-labs/flux-fill-pro model.2. The Prompting Engine: > - Create a function that generates the AI prompt automatically based on user selection. The prompt must follow this structure:'Photorealistic [Material] texture on [Furniture Part], [Color], high-end textile weave, professional product photography, 8k resolution, maintaining original lighting and shadows, seamless material transition.'3. Technical Requirements:Set the mask_blur to 0 or 1 to prevent color bleeding.Ensure the prompt_strength (denoising) is set to a range of 0.4 to 0.6 to keep the furniture's shape but change the texture.In the React frontend, add a canvas overlay so users can 'click to select' the part they want to customize.Please refactor the existing Node.js backend to handle this multi-step process: (1) Segment to get Mask -> (2) Inpaint with FLUX Fill."Suggested AI Model Stack for PerfectionStepReplicate Model NameWhy itâ€™s betterStep 1: Identify Partmeta/sam-2It identifies the exact edges of a sofa, leg, or pillow so color doesn't "bleed" onto the floor.Step 2: Change Materialblack-forest-labs/flux-fill-proThis is the world's best inpainting model. It keeps the lighting and shadows 100% realistic.Step 3: Keep Structureblack-forest-labs/flux-canny-pro(Optional) Use this if the furniture shape is very complex; it follows the "lines" of the original photo.Why your current version is failingMost basic AI tools use "Global Image-to-Image." This tells the AI: "Look at this room and make the sofa blue." The AI then tries to guess where the sofa is and often colors the rug or the wall blue too.By using the prompt above, you are telling Replit to build a Targeted Edit tool. It creates a "map" (the mask) and tells the AI: "Only change the pixels inside this map."